{"filter":false,"title":"script.js","tooltip":"/client/js/script.js","undoManager":{"mark":1,"position":1,"stack":[[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":0,"column":0},"end":{"row":0,"column":1}},"text":"$"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":0,"column":1},"end":{"row":0,"column":30}},"text":"(document).ready(function() {"},{"action":"insertText","range":{"start":{"row":0,"column":30},"end":{"row":1,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":1,"column":0},"end":{"row":81,"column":0}},"lines":["  var count = $(\"#count\");","  var data = \"\";","  ","  var canvasElement = $(\"#canvas\");","  var canvas = canvasElement.get()[0].getContext(\"2d\");","  ","  canvas.strokeStyle = \"black\";","  canvas.lineWidth = 3;","  canvas.lineJoin = \"round\";","  canvas.lineCap = \"round\";","  ","  canvasElement.on(\"mousedown.sketch\", function(e) {","    var pointX = Math.round(e.offsetX);","    var pointY = Math.round(e.offsetY);","    ","    canvas.beginPath();","    canvas.moveTo(pointX, pointY);","    ","    data += pointX.toString(36) + pointY.toString(36);","    ","    canvasElement.on(\"mousemove.sketch\", function(e) {","      pointX = Math.round(e.offsetX);","      pointY = Math.round(e.offsetY);","      ","      canvas.lineTo(pointX, pointY);","      canvas.stroke();","      ","      data += pointX.toString(36) + pointY.toString(36);","      ","      count.html(\"Ink used: \" + Math.ceil(data.length / 65535 * 100) + \"%\");","      ","      e.preventDefault();","      ","      return false;","    }).on(\"mouseup.sketch\", function(e) {","      data += \" \";","      ","      canvasElement.off(\"mousemove.sketch mouseup.sketch\");","      ","      e.preventDefault();","      ","      return false;","    });","    ","    e.preventDefault();","    ","    return false;","  }).on(\"contextmenu\", function(e) {","    return false;","  });","  ","  $(\"#swap\").on(\"click\", function() {","    console.log(data);","    ","    $.ajax({","      url: \"http://query.yahooapis.com/v1/public/yql\",","      ","      jsonp: \"callback\",","      dataType: \"jsonp\",","      data: {","        q: \"select * from xClient where url=\\\"http://garyc.me/sketch/swap.php?v=32\\\" and method=\\\"post\\\" and content=\\\"\" + data + \"\\\"\",","        format: \"json\",","        env: \"store://datatables.org/alltableswithkeys\"","      },","      ","      success: function(response) {","        console.log(response);","      }","    });","  });","  ","  $(\"#reset\").on(\"click\", function() {","    canvas.clearRect(0, 0, 800, 600);","    ","    data = \"\";","  });","  ","  $(\"#undo\").on(\"click\", function() {","    ","  });"]},{"action":"insertText","range":{"start":{"row":81,"column":0},"end":{"row":81,"column":3}},"text":"});"}]}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":81,"column":3},"end":{"row":81,"column":3},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1407964115196,"hash":"35fb3c21d4f03d5beb79ab8d59c16ba72036ce86"}